(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{29:function(n,t,e){},36:function(n,t,e){"use strict";e.r(t);var r=e(1),c=e(0),a=e(20),o=e.n(a),i=(e(29),e(4)),s=e(5),u=e(2),b="#47717d",j="#3b5e68",l="#9ddbe6",d="#F44335",h="#f5f5f5",p="@media (max-width: 381px)",x="80px",f="60px",O="30px",g="10px",v="24px",m="20px",y="16px",w="12px",k={shadowDark:"0px 1px 4px ".concat(j,"30"),shadowLight:"0px 1px 4px ".concat(l,"80"),block:"\n    display: block;\n    color: ".concat(j,";\n    width: 100%;\n    padding: 10px;\n    border: 3px solid ").concat(j,";\n    background: transparent;\n    box-shadow: 0px 1px 4px ").concat(j,"30;\n  ")},S=e(3),C=e(8);function z(){var n=Object(u.a)(["\n  color: ",";\n  font-size: ",";\n  font-weight: bold;\n  text-decoration: none;\n  padding: 0 ",";\n"]);return z=function(){return n},n}function A(){var n=Object(u.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  color: ",";\n  height: ",";\n  "," {\n    height: ",";\n    flex-direction: column;\n  }\n"]);return A=function(){return n},n}function E(){var n=Object(u.a)(["\n  max-width: 960px;\n  margin: 0 auto;\n"]);return E=function(){return n},n}function D(){var n=Object(u.a)(["\n  width: 100%;\n  background: ",";\n  box-shadow: ",";\n  position: fixed;\n  z-index: 2;\n  top: 0;\n"]);return D=function(){return n},n}var P=S.a.div(D(),h,k.shadowDark),F=S.a.div(E()),I=S.a.div(A(),j,f,p,x),T=Object(S.a)(C.b)(z(),b,v,g);function J(){var n=Object(u.a)(["\n  text-align: center;\n"]);return J=function(){return n},n}function $(){var n=Object(u.a)(["\n  z-index: 1;\n  ","\n  font-size: ",";\n  font-weight: bold;\n  position: relative;\n  box-shadow: ",";\n  &:hover {\n    color: ",';\n    font-weight: normal;\n  }\n  &::before {\n    z-index: -1;\n    content: "";\n    display: block;\n    background: ',";\n    transition: width 0.3s ease-in-out;\n    position: absolute;\n    height: 100%;\n    width: 0;\n    left: 0;\n    top: 0;\n  }\n  &:hover::before {\n    width: 100%;\n  }\n  &:active {\n    box-shadow: none;\n  }\n"]);return $=function(){return n},n}function L(){var n=Object(u.a)(["\n  background: none;\n  border: none;\n  display: inline-block;\n  cursor: pointer;\n  text-decoration: none;\n  color: ",';\n  font-size: inherit;\n  font-weight: bold;\n  padding: 10px;\n  & span {\n    z-index: 1;\n    position: relative;\n  }\n  & span::before {\n    z-index: -1;\n    content: "";\n    display: block;\n    background: ',";\n    transition: width 0.3s ease-in-out;\n    position: absolute;\n    height: 50%;\n    width: 0;\n    left: 10%;\n    bottom: -10%;\n  }\n  &:hover span::before,\n  &.active span::before,\n  &:focus span::before {\n    width: 100%;\n  }\n"]);return L=function(){return n},n}var N=S.a.button(L(),b,l);function R(n){var t=n.isActive,e=n.content;return Object(r.jsx)(N,{className:t?"active":"",children:Object(r.jsx)("span",{children:e})})}var B=S.a.button($(),k.block,m,k.shadowDark,h,j);function U(n){var t=n.to,e=n.isExact,c=n.label,a=Object(s.j)({path:t,exact:e});return Object(r.jsx)(C.b,{to:t,children:Object(r.jsx)(R,{isActive:!!a,content:c})})}var G=S.a.div(J()),H=Object(c.createContext)(null),M="token",_=function(n){return localStorage.setItem(M,n)},Y=function(){return localStorage.getItem(M)};function Z(){var n=Object(s.h)(),t=Object(s.g)(),e=Object(c.useContext)(H),a=e.isGetAPI,o=e.user,i=e.setUser;return Object(r.jsx)(P,{children:Object(r.jsx)(F,{children:Object(r.jsxs)(I,{children:[Object(r.jsx)(T,{to:"/",children:Object(r.jsx)(R,{isActive:!0,content:"ZoeHYH"})}),Object(r.jsxs)("div",{children:[Object(r.jsx)(U,{to:"/list",isExact:!1,label:"\u6587\u7ae0\u5217\u8868"}),Object(r.jsx)(U,{to:"/about",isExact:!1,label:"\u95dc\u65bc"}),o&&Object(r.jsx)(U,{to:"/post",isExact:!0,label:"\u767c\u5e03\u6587\u7ae0"}),a&&!o&&Object(r.jsx)(U,{to:"/login",isExact:!0,label:"\u767b\u5165"}),a&&!o&&Object(r.jsx)(U,{to:"/register",isExact:!0,label:"\u8a3b\u518a"}),o&&Object(r.jsx)("span",{onClick:function(){_(""),i(null),"/post"===n.pathname&&t.push("/")},children:Object(r.jsx)(R,{isActive:!1,content:"\u767b\u51fa"})})]})]})})})}var q="https://student-json-api.lidemy.me",K=function(){return fetch("".concat(q,"/posts?_sort=createdAt&_order=desc")).then((function(n){return n.json()}))},Q=function(){var n=Y();return fetch("".concat(q,"/me"),{headers:{authorization:"Bearer ".concat(n)}}).then((function(n){return n.json()}))},V=e(7),W=e.n(V);function X(){var n=Object(u.a)(["\n  display: block;\n  text-decoration: none;\n  &:hover {\n    box-shadow: ",";\n  }\n"]);return X=function(){return n},n}function nn(){var n=Object(u.a)(["\n  color: ",";\n  padding: ",";\n  max-width: 600px;\n  margin: 0 auto;\n  & + & {\n    border-top: 1px solid ",";\n  }\n  & h3 {\n    color: ",";\n    font-size: ",";\n    font-weight: bold;\n    margin: 0 0 ",";\n  }\n  & span {\n    display: block;\n    font-size: ",";\n  }\n  & p {\n    font-size: ",";\n    margin: "," 0;\n    letter-spacing: 2px;\n    white-space: pre-line;\n    word-break: break-all;\n  }\n"]);return nn=function(){return n},n}var tn=S.a.div(nn(),b,g,j+"30",j,m,g,w,y,g),en=Object(S.a)(tn)(X(),k.shadowDark);function rn(n){var t=n.post,e=n.paragraph;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h3",{children:t.title}),Object(r.jsx)("span",{children:new Date(t.createdAt).toLocaleString()}),e&&Object(r.jsx)("p",{children:t.body})]})}function cn(n){var t=n.post,e=n.hover,c=n.$center,a=n.paragraph;return e?Object(r.jsx)(en,{as:C.b,to:"/article-".concat(t.id),$center:c,children:Object(r.jsx)(rn,{post:t,paragraph:a})}):Object(r.jsx)(tn,{$center:c,children:Object(r.jsx)(rn,{post:t,paragraph:a})})}function an(){var n=Object(u.a)(["\n  color: ",";\n  margin-top: ",";\n  padding: 15vh ",";\n  display: flex;\n  justify-content: center;\n  position: relative;\n  "," {\n    margin-top: ",";\n  }\n"]);return an=function(){return n},n}function on(){var n=Object(u.a)(["\n  color: ",";\n  margin-top: ",";\n  padding: "," ",";\n  "," {\n    margin-top: ",";\n  }\n"]);return on=function(){return n},n}var sn=S.a.div(on(),j,f,g,g,p,x),un=S.a.div(an(),j,f,g,p,x);function bn(){var n=Object(c.useState)(),t=Object(i.a)(n,2),e=t[0],a=t[1];return Object(c.useEffect)((function(){K().then((function(n){return a(n)}))}),[]),Object(r.jsx)(sn,{children:e&&e.map((function(n){return Object(r.jsx)(cn,{post:n,hover:!0,$center:!0,paragraph:!1},n.id)}))})}function jn(){var n=Object(s.i)().page,t=Object(c.useState)(),e=Object(i.a)(t,2),a=e[0],o=e[1],u=Object(c.useRef)();return Object(c.useEffect)((function(){K().then((function(t){u.current=Math.ceil(t.length/10),o(t.slice(10*(n-1),10*n))}))}),[n]),Object(r.jsxs)(sn,{children:[a&&a.map((function(n){return Object(r.jsx)(cn,{post:n,hover:!0,$center:!0,paragraph:!0},n.id)})),a&&Object(r.jsx)(G,{children:new Array(u.current).fill("").map((function(n,t){return Object(r.jsx)(U,{to:"/list/".concat(t+1),isExact:!1,label:"".concat(t+1)},t)}))})]})}function ln(){var n=Object(s.i)().id,t=Object(c.useState)(),e=Object(i.a)(t,2),a=e[0],o=e[1];return Object(c.useEffect)((function(){(function(n){return fetch("".concat(q,"/posts?id=").concat(n)).then((function(n){return n.json()}))})(n).then((function(n){return o(n[0])}))}),[n]),Object(r.jsx)(sn,{children:a&&Object(r.jsx)(cn,{post:a,hover:!1,$center:!0,paragraph:!0})})}cn.propTypes={post:W.a.shape({title:W.a.string,body:W.a.string,createdAt:W.a.number,id:W.a.number})},cn.propTypes={post:W.a.shape({title:W.a.string,body:W.a.string,createdAt:W.a.number,id:W.a.number})};var dn={id:0,title:"\u95dc\u65bc\u9019\u500b\u90e8\u843d\u683c",createdAt:Date.parse("2020-11-27T16:30:00"),body:'\n    \u9019\u500b\u90e8\u843d\u683c SPA \u4f7f\u7528 React \u88fd\u4f5c\uff0c\u4e26\u4f7f\u7528 Redux \u9019\u5957\u67b6\u69cb\u7ba1\u7406\u8cc7\u6599\uff0c\u524d\u7aef\u8def\u7531\u5247\u662f\u7528 React Router DOM \u9019\u5957 Library \u5be6\u4f5c\u3002\u8a3b\u518a\u5f8c\uff0c\u5bc6\u78bc\u90fd\u6703\u662f "Lidemy"\u3002\n  '};function hn(){return Object(r.jsx)(sn,{children:Object(r.jsx)(cn,{post:dn,hover:!1,$center:!0,paragraph:!0})})}function pn(){var n=Object(u.a)(["\n  display: block;\n  width: 100%;\n  &:last-of-type {\n    margin-bottom: 30px;\n  }\n  & label {\n    display: block;\n    color: ",";\n    font-size: ",";\n    font-weight: bold;\n    margin: ",";\n    ","\n  }\n  & input,\n  & textarea {\n    ","\n    font-size: ",";\n    font-family: initial;\n    ","\n  }\n  & textarea {\n    height: 50vh;\n  }\n"]);return pn=function(){return n},n}var xn=S.a.div(pn(),b,y,g,(function(n){return n.alert?"color: ".concat(d):""}),k.block,m,(function(n){return n.alert?"border: 3px solid ".concat(d):""}));function fn(n){var t=n.content,e=n.type,c=n.name,a=n.alert,o=n.value,i=n.handleOnChange;return Object(r.jsxs)(xn,{alert:a,children:[Object(r.jsx)("label",{htmlFor:c,children:t}),"textarea"===e?Object(r.jsx)("textarea",{id:c,value:o,onChange:function(n){var t=n.target;return i(t.value)}}):Object(r.jsx)("input",{type:e,id:c,value:o,onChange:function(n){var t=n.target;return i(t.value)}})]})}function On(){var n=Object(u.a)(["\n  max-width: 600px;\n  margin: 0 auto;\n  position: relative;\n"]);return On=function(){return n},n}function gn(){var n=Object(u.a)(["\n  width: 320px;\n  position: relative;\n"]);return gn=function(){return n},n}var vn=S.a.form(gn()),mn=S.a.form(On());function yn(){var n=Object(u.a)(["\n  color: ",";\n  margin: 0;\n  text-align: center;\n  display: block;\n  position: absolute;\n  bottom: ",";\n  right: 0;\n  left: 0;\n"]);return yn=function(){return n},n}var wn=S.a.p(yn(),d,O);function kn(){var n=Object(s.g)(),t=Object(c.useState)(""),e=Object(i.a)(t,2),a=e[0],o=e[1],u=Object(c.useState)(""),b=Object(i.a)(u,2),j=b[0],l=b[1],d=Object(c.useState)(null),h=Object(i.a)(d,2),p=h[0],x=h[1];return Object(r.jsxs)(sn,{children:[Object(r.jsx)(wn,{children:p}),Object(r.jsxs)(mn,{onSubmit:function(t){(function(n,t){var e=Y();return fetch("".concat(q,"/posts"),{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer ".concat(e)},body:JSON.stringify({title:n,body:t})}).then((function(n){return n.json()}))})(a,j).then((function(t){if(0===t.ok)return x(t.message);n.push("/")})),t.preventDefault()},children:[Object(r.jsx)(fn,{content:"\u6a19\u984c",type:"text",name:"title",alert:!!p,value:a,handleOnChange:function(n){return o(n)}}),Object(r.jsx)(fn,{content:"\u5167\u6587",type:"textarea",name:"body",alert:!!p,value:j,handleOnChange:function(n){return l(n)}}),Object(r.jsx)(B,{children:"\u767c\u5e03"})]})]})}function Sn(){var n=Object(c.useContext)(H).setUser,t=Object(c.useState)(""),e=Object(i.a)(t,2),a=e[0],o=e[1],u=Object(c.useState)(""),b=Object(i.a)(u,2),j=b[0],l=b[1],d=Object(c.useState)(null),h=Object(i.a)(d,2),p=h[0],x=h[1],f=Object(s.g)();return Object(r.jsxs)(un,{children:[Object(r.jsx)(wn,{children:p}),Object(r.jsxs)(vn,{onSubmit:function(t){(function(n,t){return fetch("".concat(q,"/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:n,password:t})}).then((function(n){return n.json()}))})(a,j).then((function(t){if(0===t.ok)return x(t.message);_(t.token),Q().then((function(t){if(1!==t.ok)return _(null),x(JSON.stringify(t));n(t.data),f.push("/")}))})),t.preventDefault()},children:[Object(r.jsx)(fn,{content:"\u5e33\u865f",type:"text",name:"username",alert:!!p,value:a,handleOnChange:function(n){return o(n)}}),Object(r.jsx)(fn,{content:"\u5bc6\u78bc",type:"password",name:"password",alert:!!p,value:j,handleOnChange:function(n){return l(n)}}),Object(r.jsx)(B,{children:"\u767b\u5165"})]})]})}function Cn(){var n=Object(c.useContext)(H).setUser,t=Object(c.useState)(""),e=Object(i.a)(t,2),a=e[0],o=e[1],u=Object(c.useState)(""),b=Object(i.a)(u,2),j=b[0],l=b[1],d=Object(c.useState)(""),h=Object(i.a)(d,2),p=h[0],x=h[1],f=Object(c.useState)(null),O=Object(i.a)(f,2),g=O[0],v=O[1],m=Object(s.g)();return Object(r.jsxs)(un,{children:[Object(r.jsx)(wn,{children:g}),Object(r.jsxs)(vn,{onSubmit:function(t){(function(n,t,e){return fetch("".concat(q,"/register"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:n,username:t,password:e})}).then((function(n){return n.json()}))})(a,j,p).then((function(t){if(0===t.ok)return v(t.message);_(t.token),Q().then((function(t){if(1!==t.ok)return _(null),v(JSON.stringify(t));n(t.data),m.push("/")}))})),t.preventDefault()},children:[Object(r.jsx)(fn,{content:"\u66b1\u7a31",type:"text",name:"nickname",alert:!!g,value:a,handleOnChange:function(n){return o(n)}}),Object(r.jsx)(fn,{content:"\u5e33\u865f",type:"text",name:"username",alert:!!g,value:j,handleOnChange:function(n){return l(n)}}),Object(r.jsx)(fn,{content:"\u5bc6\u78bc",type:"password",name:"password",alert:!!g,value:p,handleOnChange:function(n){return x(n)}}),Object(r.jsx)(B,{children:"\u8a3b\u518a"})]})]})}function zn(){var n=Object(c.useState)(!1),t=Object(i.a)(n,2),e=t[0],a=t[1],o=Object(c.useState)(null),u=Object(i.a)(o,2),b=u[0],j=u[1];return Object(c.useEffect)((function(){Y()&&Q().then((function(n){n.ok&&j(n.data)})),a(!0)}),[]),Object(r.jsx)(H.Provider,{value:{isGetAPI:e,setIsGetAPI:a,user:b,setUser:j},children:Object(r.jsxs)(C.a,{children:[Object(r.jsx)(Z,{}),Object(r.jsxs)(s.d,{children:[Object(r.jsx)(s.b,{exact:!0,path:"/",children:Object(r.jsx)(bn,{})}),Object(r.jsx)(s.b,{exact:!0,path:"/list",children:Object(r.jsx)(s.a,{to:"/list/1"})}),Object(r.jsx)(s.b,{exact:!0,path:"/list/:page",children:Object(r.jsx)(jn,{})}),Object(r.jsx)(s.b,{exact:!0,path:"/article-:id",children:Object(r.jsx)(ln,{})}),Object(r.jsx)(s.b,{exact:!0,path:"/about",children:Object(r.jsx)(hn,{})}),b&&Object(r.jsx)(s.b,{exact:!0,path:"/post",children:Object(r.jsx)(kn,{})}),!b&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(s.b,{exact:!0,path:"/login",children:Object(r.jsx)(Sn,{})}),Object(r.jsx)(s.b,{exact:!0,path:"/register",children:Object(r.jsx)(Cn,{})})]})]})]})})}var An=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,37)).then((function(t){var e=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;e(n),r(n),c(n),a(n),o(n)}))};o.a.render(Object(r.jsx)(zn,{}),document.getElementById("root")),An()}},[[36,1,2]]]);
//# sourceMappingURL=main.847bf4df.chunk.js.map